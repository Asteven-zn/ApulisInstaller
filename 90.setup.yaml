- name: "机器初始化，例如时间同步，证书生成等"\
  import_playbook: '01.prepare.yaml'

- name: "k8s etcd 配置"
  import_playbook: '02.etcd.yaml'

- name: "集群节点的docker环境初始化"
  import_playbook: '03.docker.yaml'

- name: "集群master结点初始化"
  import_playbook: '04.kube-master.yaml'

- name: "集群worker结点初始化"
  import_playbook: '05.kube-worker.yaml'

- name: "集群其他初始化"
  import_playbook: {{ item }}
  with_items:
    - "06.kube-init.yaml"
    - "07.network.yaml"
    - "08.storage.yaml"

- name: "配置harbor"
  import_playbook: "09.harbor.yaml"
